{% extends "base.html" %}
{% load static %}

{% block page_title %}{{post.title}}{% endblock  %}

{% block page_styles %}
   <link rel="stylesheet" href="{% static "blog/css/post.css" %}">
   <link rel="stylesheet" href="{% static "blog/css/single_post.css" %}">
{% endblock  %}

{% block page_body %}
    {% include "include/navbar.html" %}
    <div class="single-post-wrapper">
        <div class="single-post-title-container">
            {% if user.is_authenticated and user == post.author %}
            <div class="edit-delete-container">
                <a href=" {% url "updatepost" post.pk %} "><i class="fa-solid fa-pen-to-square"></i></a>
                <form action=" {% url "deletepost" post.pk %} " method="POST">
                    {% csrf_token %}
                  <button><i class="fa-solid fa-trash delete-icon"></i></button>  
                </form>
            </div>
            {% endif %}
            <div class="single-post-title">
                {{post.title}}
                <div class="tag-container">
                    {% for tag in post.tags.all %}
                        <div class="tag">{{tag}}</div>
                    {% endfor %}
                </div>
            </div>
            <div class="single-post-image-container">
                <div class="single-post-image" style="background-image:url('{{ post.image.url }}')"></div>
                <div><i>By {{post.author.username}}</i></div>
                <div>Last updated on <b>{{post.updated_at}}</b></div>
            </div>        
        </div>
        <div class="single-post-description">
            {{post.content}}
        </div>
    </div>
{% endblock  %}